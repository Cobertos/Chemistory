"use strict";void 0===THREE.OBJLoader2&&(THREE.OBJLoader2={}),void 0===THREE.LoaderSupport&&console.error('"THREE.LoaderSupport" is not available. "THREE.OBJLoader2" requires it. Please include "LoaderSupport.js" in your HTML.'),THREE.OBJLoader2=function(){var g=THREE.LoaderSupport.Validator;function e(e){console.info("Using THREE.OBJLoader2 version: 2.4.2"),this.manager=g.verifyInput(e,THREE.DefaultLoadingManager),this.logging={enabled:!0,debug:!1},this.modelName="",this.instanceNo=0,this.path="",this.useIndices=!1,this.disregardNormals=!1,this.materialPerSmoothingGroup=!1,this.useOAsMesh=!1,this.loaderRootNode=new THREE.Group,this.meshBuilder=new THREE.LoaderSupport.MeshBuilder,this.callbacks=new THREE.LoaderSupport.Callbacks,this.workerSupport=new THREE.LoaderSupport.WorkerSupport,this.terminateWorkerOnLoad=!0}e.prototype.setLogging=function(e,t){this.logging.enabled=!0===e,this.logging.debug=!0===t,this.meshBuilder.setLogging(this.logging.enabled,this.logging.debug)},e.prototype.setModelName=function(e){this.modelName=g.verifyInput(e,this.modelName)},e.prototype.setPath=function(e){this.path=g.verifyInput(e,this.path)},e.prototype.setStreamMeshesTo=function(e){this.loaderRootNode=g.verifyInput(e,this.loaderRootNode)},e.prototype.setMaterials=function(e){this.meshBuilder.setMaterials(e)},e.prototype.setUseIndices=function(e){this.useIndices=!0===e},e.prototype.setDisregardNormals=function(e){this.disregardNormals=!0===e},e.prototype.setMaterialPerSmoothingGroup=function(e){this.materialPerSmoothingGroup=!0===e},e.prototype.setUseOAsMesh=function(e){this.useOAsMesh=!0===e},e.prototype._setCallbacks=function(e){g.isValid(e.onProgress)&&this.callbacks.setCallbackOnProgress(e.onProgress),g.isValid(e.onReportError)&&this.callbacks.setCallbackOnReportError(e.onReportError),g.isValid(e.onMeshAlter)&&this.callbacks.setCallbackOnMeshAlter(e.onMeshAlter),g.isValid(e.onLoad)&&this.callbacks.setCallbackOnLoad(e.onLoad),g.isValid(e.onLoadMaterials)&&this.callbacks.setCallbackOnLoadMaterials(e.onLoadMaterials),this.meshBuilder._setCallbacks(this.callbacks)},e.prototype.onProgress=function(e,t,s){var o=g.isValid(t)?t:"",r={detail:{type:e,modelName:this.modelName,instanceNo:this.instanceNo,text:o,numericalValue:s}};g.isValid(this.callbacks.onProgress)&&this.callbacks.onProgress(r),this.logging.enabled&&this.logging.debug&&console.debug(o)},e.prototype._onError=function(e){var t="Error occurred while downloading!";e.currentTarget&&null!==e.currentTarget.statusText&&(t+="\nurl: "+e.currentTarget.responseURL+"\nstatus: "+e.currentTarget.statusText),this.onProgress("error",t,-1),this._throwError(t)},e.prototype._throwError=function(e){if(!g.isValid(this.callbacks.onReportError))throw e;this.callbacks.onReportError(e)},e.prototype.load=function(e,t,s,o,r,a){var i=new THREE.LoaderSupport.ResourceDescriptor(e,"OBJ");this._loadObj(i,t,s,o,r,a)},e.prototype._loadObj=function(s,o,e,t,r,a){var i=this;g.isValid(t)||(t=function(e){i._onError(e)}),g.isValid(s)||t("An invalid ResourceDescriptor was provided. Unable to continue!");var n=function(e){if(s.content=e,a)i.parseAsync(e,o);else{var t=new THREE.LoaderSupport.Callbacks;t.setCallbackOnMeshAlter(r),i._setCallbacks(t),o({detail:{loaderRootNode:i.parse(e),modelName:i.modelName,instanceNo:i.instanceNo}})}};if(!g.isValid(s.url)||g.isValid(s.content))n(g.isValid(s.content)?s.content:null);else{if(!g.isValid(e)){var l=0,h=0;e=function(e){if(e.lengthComputable&&(h=e.loaded/e.total,l<h)){l=h;var t='Download of "'+s.url+'": '+(100*h).toFixed(2)+"%";i.onProgress("progressLoad",t,h)}}}var u=new THREE.FileLoader(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.load(s.url,n,e,t)}},e.prototype.run=function(t,e){this._applyPrepData(t);var s=t.checkResourceDescriptorFiles(t.resources,[{ext:"obj",type:"ArrayBuffer",ignore:!1},{ext:"mtl",type:"String",ignore:!1},{ext:"zip",type:"String",ignore:!0}]);g.isValid(e)&&(this.terminateWorkerOnLoad=!1,this.workerSupport=e,this.logging.enabled=this.workerSupport.logging.enabled,this.logging.debug=this.workerSupport.logging.debug);var o=this;this._loadMtl(s.mtl,function(e){null!==e&&o.meshBuilder.setMaterials(e),o._loadObj(s.obj,o.callbacks.onLoad,null,null,o.callbacks.onMeshAlter,t.useAsync)},null,null,t.crossOrigin,t.materialOptions)},e.prototype._applyPrepData=function(e){g.isValid(e)&&(this.setLogging(e.logging.enabled,e.logging.debug),this.setModelName(e.modelName),this.setStreamMeshesTo(e.streamMeshesTo),this.meshBuilder.setMaterials(e.materials),this.setUseIndices(e.useIndices),this.setDisregardNormals(e.disregardNormals),this.setMaterialPerSmoothingGroup(e.materialPerSmoothingGroup),this.setUseOAsMesh(e.useOAsMesh),this._setCallbacks(e.getCallbacks()))},e.prototype.parse=function(e){if(!g.isValid(e))return console.warn("Provided content is not a valid ArrayBuffer or String."),this.loaderRootNode;this.logging.enabled&&console.time("OBJLoader2 parse: "+this.modelName),this.meshBuilder.init();var t=new l;t.setLogging(this.logging.enabled,this.logging.debug),t.setMaterialPerSmoothingGroup(this.materialPerSmoothingGroup),t.setUseOAsMesh(this.useOAsMesh),t.setUseIndices(this.useIndices),t.setDisregardNormals(this.disregardNormals),t.setMaterials(this.meshBuilder.getMaterials());var r=this;t.setCallbackMeshBuilder(function(e){var t,s=r.meshBuilder.processPayload(e);for(var o in s)t=s[o],r.loaderRootNode.add(t)});return t.setCallbackProgress(function(e,t){r.onProgress("progressParse",e,t)}),e instanceof ArrayBuffer||e instanceof Uint8Array?(this.logging.enabled&&console.info("Parsing arrayBuffer..."),t.parse(e)):"string"==typeof e||e instanceof String?(this.logging.enabled&&console.info("Parsing text..."),t.parseText(e)):this._throwError("Provided content was neither of type String nor Uint8Array! Aborting..."),this.logging.enabled&&console.timeEnd("OBJLoader2 parse: "+this.modelName),this.loaderRootNode},e.prototype.parseAsync=function(e,t){var r=this,s=!1,o=function(){t({detail:{loaderRootNode:r.loaderRootNode,modelName:r.modelName,instanceNo:r.instanceNo}}),s&&r.logging.enabled&&console.timeEnd("OBJLoader2 parseAsync: "+r.modelName)};g.isValid(e)?s=!0:(console.warn("Provided content is not a valid ArrayBuffer."),o()),s&&this.logging.enabled&&console.time("OBJLoader2 parseAsync: "+this.modelName),this.meshBuilder.init();this.workerSupport.validate(function(e,t){var s="";return s+="/**\n",s+="  * This code was constructed by OBJLoader2 buildCode.\n",s+="  */\n\n",s+="THREE = { LoaderSupport: {} };\n\n",s+=e("THREE.LoaderSupport.Validator",g),s+=t("Parser",l)},"Parser"),this.workerSupport.setCallbacks(function(e){var t,s=r.meshBuilder.processPayload(e);for(var o in s)t=s[o],r.loaderRootNode.add(t)},o),r.terminateWorkerOnLoad&&this.workerSupport.setTerminateRequested(!0);var a={},i=this.meshBuilder.getMaterials();for(var n in i)a[n]=n;this.workerSupport.run({params:{useAsync:!0,materialPerSmoothingGroup:this.materialPerSmoothingGroup,useOAsMesh:this.useOAsMesh,useIndices:this.useIndices,disregardNormals:this.disregardNormals},logging:{enabled:this.logging.enabled,debug:this.logging.debug},materials:{materials:a},data:{input:e,options:null}})};var l=function(){function e(){this.callbackProgress=null,this.callbackMeshBuilder=null,this.contentRef=null,this.legacyMode=!1,this.materials={},this.useAsync=!1,this.materialPerSmoothingGroup=!1,this.useOAsMesh=!1,this.useIndices=!1,this.disregardNormals=!1,this.vertices=[],this.colors=[],this.normals=[],this.uvs=[],this.rawMesh={objectName:"",groupName:"",activeMtlName:"",mtllibName:"",faceType:-1,subGroups:[],subGroupInUse:null,smoothingGroup:{splitMaterials:!1,normalized:-1,real:-1},counts:{doubleIndicesCount:0,faceCount:0,mtlCount:0,smoothingGroupCount:0}},this.inputObjectCount=1,this.outputObjectCount=1,this.globalCounts={vertices:0,faces:0,doubleIndicesCount:0,lineByte:0,currentByte:0,totalBytes:0},this.logging={enabled:!0,debug:!1}}return e.prototype.resetRawMesh=function(){this.rawMesh.subGroups=[],this.rawMesh.subGroupInUse=null,this.rawMesh.smoothingGroup.normalized=-1,this.rawMesh.smoothingGroup.real=-1,this.pushSmoothingGroup(1),this.rawMesh.counts.doubleIndicesCount=0,this.rawMesh.counts.faceCount=0,this.rawMesh.counts.mtlCount=0,this.rawMesh.counts.smoothingGroupCount=0},e.prototype.setUseAsync=function(e){this.useAsync=e},e.prototype.setMaterialPerSmoothingGroup=function(e){this.materialPerSmoothingGroup=e},e.prototype.setUseOAsMesh=function(e){this.useOAsMesh=e},e.prototype.setUseIndices=function(e){this.useIndices=e},e.prototype.setDisregardNormals=function(e){this.disregardNormals=e},e.prototype.setMaterials=function(e){this.materials=THREE.LoaderSupport.Validator.verifyInput(e,this.materials),this.materials=THREE.LoaderSupport.Validator.verifyInput(this.materials,{})},e.prototype.setCallbackMeshBuilder=function(e){THREE.LoaderSupport.Validator.isValid(e)||this._throwError('Unable to run as no "MeshBuilder" callback is set.'),this.callbackMeshBuilder=e},e.prototype.setCallbackProgress=function(e){this.callbackProgress=e},e.prototype.setLogging=function(e,t){this.logging.enabled=!0===e,this.logging.debug=!0===t},e.prototype.configure=function(){if(this.pushSmoothingGroup(1),this.logging.enabled){var e=Object.keys(this.materials),t="OBJLoader2.Parser configuration:"+(0<e.length?"\n\tmaterialNames:\n\t\t- "+e.join("\n\t\t- "):"\n\tmaterialNames: None")+"\n\tuseAsync: "+this.useAsync+"\n\tmaterialPerSmoothingGroup: "+this.materialPerSmoothingGroup+"\n\tuseOAsMesh: "+this.useOAsMesh+"\n\tuseIndices: "+this.useIndices+"\n\tdisregardNormals: "+this.disregardNormals+"\n\tcallbackMeshBuilderName: "+this.callbackMeshBuilder.name+"\n\tcallbackProgressName: "+this.callbackProgress.name;console.info(t)}},e.prototype.parse=function(e){this.logging.enabled&&console.time("OBJLoader2.Parser.parse"),this.configure();var t=new Uint8Array(e),s=(this.contentRef=t).byteLength;this.globalCounts.totalBytes=s;for(var o,r=new Array(128),a="",i=0,n=0,l=0;l<s;l++)switch(o=t[l]){case 32:0<a.length&&(r[i++]=a),a="";break;case 47:0<a.length&&(r[i++]=a),n++,a="";break;case 10:0<a.length&&(r[i++]=a),a="",this.globalCounts.lineByte=this.globalCounts.currentByte,this.globalCounts.currentByte=l,this.processLine(r,i,n),n=i=0;break;case 13:break;default:a+=String.fromCharCode(o)}this.finalizeParsing(),this.logging.enabled&&console.timeEnd("OBJLoader2.Parser.parse")},e.prototype.parseText=function(e){this.logging.enabled&&console.time("OBJLoader2.Parser.parseText"),this.configure(),this.legacyMode=!0;var t=(this.contentRef=e).length;this.globalCounts.totalBytes=t;for(var s,o=new Array(128),r="",a=0,i=0,n=0;n<t;n++)switch(s=e[n]){case" ":0<r.length&&(o[a++]=r),r="";break;case"/":0<r.length&&(o[a++]=r),i++,r="";break;case"\n":0<r.length&&(o[a++]=r),r="",this.globalCounts.lineByte=this.globalCounts.currentByte,this.globalCounts.currentByte=n,this.processLine(o,a,i),i=a=0;break;case"\r":break;default:r+=s}this.finalizeParsing(),this.logging.enabled&&console.timeEnd("OBJLoader2.Parser.parseText")},e.prototype.processLine=function(e,t,s){if(!(t<1)){var o,r,a,i,n=function(e,t,s,o){var r="";if(s<o){var a;if(t)for(a=s;a<o;a++)r+=e[a];else for(a=s;a<o;a++)r+=String.fromCharCode(e[a]);r=r.trim()}return r};switch(i=e[0]){case"v":this.vertices.push(parseFloat(e[1])),this.vertices.push(parseFloat(e[2])),this.vertices.push(parseFloat(e[3])),4<t&&(this.colors.push(parseFloat(e[4])),this.colors.push(parseFloat(e[5])),this.colors.push(parseFloat(e[6])));break;case"vt":this.uvs.push(parseFloat(e[1])),this.uvs.push(parseFloat(e[2]));break;case"vn":this.normals.push(parseFloat(e[1])),this.normals.push(parseFloat(e[2])),this.normals.push(parseFloat(e[3]));break;case"f":if(o=t-1,0===s)for(this.checkFaceType(0),a=2,r=o;a<r;a++)this.buildFace(e[1]),this.buildFace(e[a]),this.buildFace(e[a+1]);else if(o===2*s)for(this.checkFaceType(1),a=3,r=o-2;a<r;a+=2)this.buildFace(e[1],e[2]),this.buildFace(e[a],e[a+1]),this.buildFace(e[a+2],e[a+3]);else if(2*o==3*s)for(this.checkFaceType(2),a=4,r=o-3;a<r;a+=3)this.buildFace(e[1],e[2],e[3]),this.buildFace(e[a],e[a+1],e[a+2]),this.buildFace(e[a+3],e[a+4],e[a+5]);else for(this.checkFaceType(3),a=3,r=o-2;a<r;a+=2)this.buildFace(e[1],void 0,e[2]),this.buildFace(e[a],void 0,e[a+1]),this.buildFace(e[a+2],void 0,e[a+3]);break;case"l":case"p":if((o=t-1)===2*s)for(this.checkFaceType(4),r=o+(a=1);a<r;a+=2)this.buildFace(e[a],e[a+1]);else for(this.checkFaceType("l"===i?5:6),r=o+(a=1);a<r;a++)this.buildFace(e[a]);break;case"s":this.pushSmoothingGroup(e[1]);break;case"g":this.processCompletedMesh(),this.rawMesh.groupName=n(this.contentRef,this.legacyMode,this.globalCounts.lineByte+2,this.globalCounts.currentByte);break;case"o":this.useOAsMesh&&this.processCompletedMesh(),this.rawMesh.objectName=n(this.contentRef,this.legacyMode,this.globalCounts.lineByte+2,this.globalCounts.currentByte);break;case"mtllib":this.rawMesh.mtllibName=n(this.contentRef,this.legacyMode,this.globalCounts.lineByte+7,this.globalCounts.currentByte);break;case"usemtl":var l=n(this.contentRef,this.legacyMode,this.globalCounts.lineByte+7,this.globalCounts.currentByte);""!==l&&this.rawMesh.activeMtlName!==l&&(this.rawMesh.activeMtlName=l,this.rawMesh.counts.mtlCount++,this.checkSubGroup())}}},e.prototype.pushSmoothingGroup=function(e){var t=parseInt(e);isNaN(t)&&(t="off"===e?0:1);var s=this.rawMesh.smoothingGroup.normalized;this.rawMesh.smoothingGroup.normalized=this.rawMesh.smoothingGroup.splitMaterials?t:0===t?0:1,s!==(this.rawMesh.smoothingGroup.real=t)&&(this.rawMesh.counts.smoothingGroupCount++,this.checkSubGroup())},e.prototype.checkFaceType=function(e){this.rawMesh.faceType!==e&&(this.processCompletedMesh(),this.rawMesh.faceType=e,this.checkSubGroup())},e.prototype.checkSubGroup=function(){var e=this.rawMesh.activeMtlName+"|"+this.rawMesh.smoothingGroup.normalized;this.rawMesh.subGroupInUse=this.rawMesh.subGroups[e],THREE.LoaderSupport.Validator.isValid(this.rawMesh.subGroupInUse)||(this.rawMesh.subGroupInUse={index:e,objectName:this.rawMesh.objectName,groupName:this.rawMesh.groupName,materialName:this.rawMesh.activeMtlName,smoothingGroup:this.rawMesh.smoothingGroup.normalized,vertices:[],indexMappingsCount:0,indexMappings:[],indices:[],colors:[],uvs:[],normals:[]},this.rawMesh.subGroups[e]=this.rawMesh.subGroupInUse)},e.prototype.buildFace=function(c,d,p){this.disregardNormals&&(p=void 0);var g=this,e=function(){var e=parseInt(c),t=3*(0<e?e-1:e+g.vertices.length/3),s=g.rawMesh.subGroupInUse.vertices;s.push(g.vertices[t++]),s.push(g.vertices[t++]),s.push(g.vertices[t]);var o=0<g.colors.length?t+1:null;if(null!==o){var r=g.rawMesh.subGroupInUse.colors;r.push(g.colors[o++]),r.push(g.colors[o++]),r.push(g.colors[o])}if(d){var a=parseInt(d),i=2*(0<a?a-1:a+g.uvs.length/2),n=g.rawMesh.subGroupInUse.uvs;n.push(g.uvs[i++]),n.push(g.uvs[i])}if(p){var l=parseInt(p),h=3*(0<l?l-1:l+g.normals.length/3),u=g.rawMesh.subGroupInUse.normals;u.push(g.normals[h++]),u.push(g.normals[h++]),u.push(g.normals[h])}};if(this.useIndices){var t=c+(d?"_"+d:"_n")+(p?"_"+p:"_n"),s=this.rawMesh.subGroupInUse.indexMappings[t];THREE.LoaderSupport.Validator.isValid(s)?this.rawMesh.counts.doubleIndicesCount++:(s=this.rawMesh.subGroupInUse.vertices.length/3,e(),this.rawMesh.subGroupInUse.indexMappings[t]=s,this.rawMesh.subGroupInUse.indexMappingsCount++),this.rawMesh.subGroupInUse.indices.push(s)}else e();this.rawMesh.counts.faceCount++},e.prototype.createRawMeshReport=function(e){return"Input Object number: "+e+"\n\tObject name: "+this.rawMesh.objectName+"\n\tGroup name: "+this.rawMesh.groupName+"\n\tMtllib name: "+this.rawMesh.mtllibName+"\n\tVertex count: "+this.vertices.length/3+"\n\tNormal count: "+this.normals.length/3+"\n\tUV count: "+this.uvs.length/2+"\n\tSmoothingGroup count: "+this.rawMesh.counts.smoothingGroupCount+"\n\tMaterial count: "+this.rawMesh.counts.mtlCount+"\n\tReal MeshOutputGroup count: "+this.rawMesh.subGroups.length},e.prototype.finalizeRawMesh=function(){var e,t,s=[],o=0,r=0,a=0,i=0,n=0,l=0;for(var h in this.rawMesh.subGroups)if(0<(e=this.rawMesh.subGroups[h]).vertices.length){if(0<(t=e.indices).length&&0<r)for(var u in t)t[u]=t[u]+r;s.push(e),o+=e.vertices.length,r+=e.indexMappingsCount,a+=e.indices.length,i+=e.colors.length,l+=e.uvs.length,n+=e.normals.length}var c=null;return 0<s.length&&(c={name:""!==this.rawMesh.groupName?this.rawMesh.groupName:this.rawMesh.objectName,subGroups:s,absoluteVertexCount:o,absoluteIndexCount:a,absoluteColorCount:i,absoluteNormalCount:n,absoluteUvCount:l,faceCount:this.rawMesh.counts.faceCount,doubleIndicesCount:this.rawMesh.counts.doubleIndicesCount}),c},e.prototype.processCompletedMesh=function(){var e=this.finalizeRawMesh();if(THREE.LoaderSupport.Validator.isValid(e)){0<this.colors.length&&this.colors.length!==this.vertices.length&&this._throwError("Vertex Colors were detected, but vertex count and color count do not match!"),this.logging.enabled&&this.logging.debug&&console.debug(this.createRawMeshReport(this.inputObjectCount)),this.inputObjectCount++,this.buildMesh(e);var t=this.globalCounts.currentByte/this.globalCounts.totalBytes;return this.callbackProgress("Completed [o: "+this.rawMesh.objectName+" g:"+this.rawMesh.groupName+"] Total progress: "+(100*t).toFixed(2)+"%",t),this.resetRawMesh(),!0}return!1},e.prototype.buildMesh=function(e){var t=e.subGroups,s=new Float32Array(e.absoluteVertexCount);this.globalCounts.vertices+=e.absoluteVertexCount/3,this.globalCounts.faces+=e.faceCount,this.globalCounts.doubleIndicesCount+=e.doubleIndicesCount;var o,r,a,i,n,l,h,u=0<e.absoluteIndexCount?new Uint32Array(e.absoluteIndexCount):null,c=0<e.absoluteColorCount?new Float32Array(e.absoluteColorCount):null,d=0<e.absoluteNormalCount?new Float32Array(e.absoluteNormalCount):null,p=0<e.absoluteUvCount?new Float32Array(e.absoluteUvCount):null,g=THREE.LoaderSupport.Validator.isValid(c),m=[],b=1<t.length,f=0,M=[],y=[],v=0,w=0,C=0,E=0,N=0,k=0,L=0;for(var T in t)if(t.hasOwnProperty(T)){if(h=(o=t[T]).materialName,l=this.rawMesh.faceType<4?h+(g?"_vertexColor":"")+(0===o.smoothingGroup?"_flat":""):6===this.rawMesh.faceType?"defaultPointMaterial":"defaultLineMaterial",i=this.materials[h],n=this.materials[l],!THREE.LoaderSupport.Validator.isValid(i)&&!THREE.LoaderSupport.Validator.isValid(n)){var R=g?"defaultVertexColorMaterial":"defaultMaterial";i=this.materials[R],this.logging.enabled&&console.warn('object_group "'+o.objectName+"_"+o.groupName+'" was defined with unresolvable material "'+h+'"! Assigning "'+R+'".'),(h=R)===l&&(n=i,l=R)}if(!THREE.LoaderSupport.Validator.isValid(n)){var S={materialNameOrg:h,materialName:l,materialProperties:{vertexColors:g?2:0,flatShading:0===o.smoothingGroup}},G={cmd:"materialData",materials:{materialCloneInstructions:S}};this.callbackMeshBuilder(G),this.useAsync&&(this.materials[l]=S)}if(b?((r=M[l])||(r=f,M[l]=f,m.push(l),f++),a={start:k,count:L=this.useIndices?o.indices.length:o.vertices.length/3,index:r},y.push(a),k+=L):m.push(l),s.set(o.vertices,v),v+=o.vertices.length,u&&(u.set(o.indices,w),w+=o.indices.length),c&&(c.set(o.colors,C),C+=o.colors.length),d&&(d.set(o.normals,E),E+=o.normals.length),p&&(p.set(o.uvs,N),N+=o.uvs.length),this.logging.enabled&&this.logging.debug){var V=THREE.LoaderSupport.Validator.isValid(r)?"\n\t\tmaterialIndex: "+r:"",B="\tOutput Object no.: "+this.outputObjectCount+"\n\t\tgroupName: "+o.groupName+"\n\t\tIndex: "+o.index+"\n\t\tfaceType: "+this.rawMesh.faceType+"\n\t\tmaterialName: "+o.materialName+"\n\t\tsmoothingGroup: "+o.smoothingGroup+V+"\n\t\tobjectName: "+o.objectName+"\n\t\t#vertices: "+o.vertices.length/3+"\n\t\t#indices: "+o.indices.length+"\n\t\t#colors: "+o.colors.length/3+"\n\t\t#uvs: "+o.uvs.length/2+"\n\t\t#normals: "+o.normals.length/3;console.debug(B)}}this.outputObjectCount++,this.callbackMeshBuilder({cmd:"meshData",progress:{numericalValue:this.globalCounts.currentByte/this.globalCounts.totalBytes},params:{meshName:e.name},materials:{multiMaterial:b,materialNames:m,materialGroups:y},buffers:{vertices:s,indices:u,colors:c,normals:d,uvs:p},geometryType:this.rawMesh.faceType<4?0:6===this.rawMesh.faceType?2:1},[s.buffer],THREE.LoaderSupport.Validator.isValid(u)?[u.buffer]:null,THREE.LoaderSupport.Validator.isValid(c)?[c.buffer]:null,THREE.LoaderSupport.Validator.isValid(d)?[d.buffer]:null,THREE.LoaderSupport.Validator.isValid(p)?[p.buffer]:null)},e.prototype.finalizeParsing=function(){if(this.logging.enabled&&console.info("Global output object count: "+this.outputObjectCount),this.processCompletedMesh()&&this.logging.enabled){var e="Overall counts: \n\tVertices: "+this.globalCounts.vertices+"\n\tFaces: "+this.globalCounts.faces+"\n\tMultiple definitions: "+this.globalCounts.doubleIndicesCount;console.info(e)}},e}();return e.prototype.loadMtl=function(e,t,s,o,r,a,i){var n=new THREE.LoaderSupport.ResourceDescriptor(e,"MTL");n.setContent(t),this._loadMtl(n,s,o,r,a,i)},e.prototype._loadMtl=function(o,r,e,t,s,a){void 0===THREE.MTLLoader&&console.error('"THREE.MTLLoader" is not available. "THREE.OBJLoader2" requires it for loading MTL files.'),g.isValid(o)&&this.logging.enabled&&console.time("Loading MTL: "+o.name);var i=[],n=this,l=function(e){var t=[];if(g.isValid(e))for(var s in e.preload(),t=e.materials)t.hasOwnProperty(s)&&(i[s]=t[s]);g.isValid(o)&&n.logging.enabled&&console.timeEnd("Loading MTL: "+o.name),r(i,e)};if(g.isValid(o)&&(g.isValid(o.content)||g.isValid(o.url))){var h=new THREE.MTLLoader(this.manager);s=g.verifyInput(s,"anonymous"),h.setCrossOrigin(s),h.setPath(o.path),g.isValid(a)&&h.setMaterialOptions(a);var u=function(e){var t=e;"string"==typeof e||e instanceof String||(0<e.length||0<e.byteLength?t=THREE.LoaderUtils.decodeText(e):this._throwError("Unable to parse mtl as it it seems to be neither a String, an Array or an ArrayBuffer!")),l(h.parse(t))};if(g.isValid(o.content))u(o.content);else if(g.isValid(o.url)){var c=new THREE.FileLoader(this.manager);if(g.isValid(t)||(t=function(e){n._onError(e)}),!g.isValid(e)){var d=0,p=0;e=function(e){if(e.lengthComputable&&(p=e.loaded/e.total,d<p)){d=p;var t='Download of "'+o.url+'": '+(100*p).toFixed(2)+"%";n.onProgress("progressLoad",t,p)}}}c.load(o.url,u,e,t)}}else l()},e}();